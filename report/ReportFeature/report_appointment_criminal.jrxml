<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.8.0.final using JasperReports Library version 6.8.0-2ed8dfabb690ff337a5797129f2cd92902b0c87b  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="report_appointment_criminal" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="2a482055-dd58-43cc-9975-709996159fa6">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="JvncDB[229]"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w1" value="382"/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w2" value="612"/>
	<parameter name="START_DATE" class="java.lang.String">
		<defaultValueExpression><![CDATA["10/03/2021"]]></defaultValueExpression>
	</parameter>
	<parameter name="END_DATE" class="java.lang.String">
		<defaultValueExpression><![CDATA["28/04/2021"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT
	ROW_NUMBER() OVER (
ORDER BY
	ppac.START_DATE ) AS row_num ,
	NVL(cou.COURT_NAME_TH, '') COURT_NAME_TH, 
	NVL(pltc_b.TITLE_CASE_NAME,' ') ||  TO_CHAR(pc.BLACK_IDNUM) || '/' || TO_CHAR(pc.BLACK_YEAR)  BLACK_CASE_NO ,
	NVL(pltc_r.TITLE_CASE_NAME,' ')  || TO_CHAR(pj.RED_IDNUM) || CASE WHEN pj.RED_IDNUM IS NOT NULL THEN  '/' END || TO_CHAR(pj.RED_YEAR)     RED_CASE_NO ,
	pc.PROS_DESC ,
    pc.ACCU_DESC ,
    pc.ALLE_DESC ,
    plar.APPOINT_REASON_NAME ,
    ppac.UPDATED_DATE ,
	ppac.CHOICE_TIME 
FROM
	PC_PROCEED_APPOINT ppa
	-- Join วันที่นัดเหตุที่นัด
JOIN PC_PROCEED_APPOINT_CONTINUE ppac ON
	ppac.APPOINT_ID = ppa.APPOINT_ID
	AND ppac.REMOVED_BY = 0
LEFT JOIN PC_LOOKUP_APPOINT_REASON plar ON
	plar.APPOINT_REASON_ID = ppac.REASON_APPOINT_ID
	AND plar.REMOVED_BY = 0  
	-- Join Case
LEFT JOIN PC_CASE pc ON
	pc.CASE_ID = ppa.CASE_ID AND pc.REMOVED_BY = 0
LEFT JOIN PC_JUDGEMENT pj ON
	pj.CASE_ID = pc.CASE_ID	AND pj.REMOVED_BY = 0
LEFT JOIN PC_LOOKUP_TITLE_CASE pltc_b ON
	pltc_b.TITLE_CASE_ID = pc.BLACK_TITLE_ID AND pltc_b.REMOVED_BY = 0
LEFT JOIN PC_LOOKUP_TITLE_CASE pltc_r ON
	pltc_r.TITLE_CASE_ID = pj.RED_TITLE_ID 	AND pltc_r.REMOVED_BY = 0
	--ชื่อศาล
CROSS JOIN (SELECT plc.COURT_NAME_TH
             FROM PC_PARAM pp
             JOIN PC_LOOKUP_COURT plc ON plc.COURT_ID = pp.PARAM_VALUE AND plc.REMOVED_BY = 0
             WHERE pp.PARAM_NAME = 'COURT_ID' AND pp.REMOVED_BY = 0) cou
WHERE
	ppa.REMOVED_BY = 0
	AND ppac.START_DATE BETWEEN TO_DATE( $P{START_DATE}  || 'T00:00:00', 'DD-MM-YYYY"T"HH24:MI:SS') AND TO_DATE(  $P{END_DATE}  || 'T23:59:59', 'DD-MM-YYYY"T"HH24:MI:SS')
ORDER BY
	row_num
	]]>
	</queryString>
	<field name="ROW_NUM" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="ROW_NUM"/>
	</field>
	<field name="COURT_NAME_TH" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="COURT_NAME_TH"/>
	</field>
	<field name="BLACK_CASE_NO" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="BLACK_CASE_NO"/>
	</field>
	<field name="RED_CASE_NO" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="RED_CASE_NO"/>
	</field>
	<field name="PROS_DESC" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="PROS_DESC"/>
	</field>
	<field name="ACCU_DESC" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="ACCU_DESC"/>
	</field>
	<field name="ALLE_DESC" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="ALLE_DESC"/>
	</field>
	<field name="APPOINT_REASON_NAME" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="APPOINT_REASON_NAME"/>
	</field>
	<field name="UPDATED_DATE" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="UPDATED_DATE"/>
	</field>
	<field name="CHOICE_TIME" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="CHOICE_TIME"/>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="90" splitType="Stretch">
			<staticText>
				<reportElement x="235" y="0" width="290" height="30" uuid="739bacd3-7e36-4ce2-b646-80b188bf2040"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="THSarabunNew" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[รายงานหมายนัด (คดีอาญา)]]></text>
			</staticText>
			<textField>
				<reportElement x="103" y="30" width="554" height="30" uuid="cb38d656-d5bd-4dd9-a053-0fadbd067015"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="THSarabunNew" size="14"/>
				</textElement>
				<textFieldExpression><![CDATA["Text Field"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="40" y="60" width="680" height="30" uuid="aa7ec876-4759-4f3e-8610-56b838641b8c"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="THSarabunNew" size="14"/>
				</textElement>
				<textFieldExpression><![CDATA["Text Field"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="741" y="60" width="70" height="30" uuid="dd7ea4b1-cfc3-495a-838d-1976ca61f6ae"/>
				<textElement>
					<font fontName="THSarabunNew"/>
				</textElement>
				<textFieldExpression><![CDATA["Text Field"]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<detail>
		<band height="125" splitType="Stretch">
			<textField>
				<reportElement x="41" y="40" width="69" height="30" uuid="2faf63d3-091f-455d-a34f-416981e88ce4"/>
				<textElement>
					<font fontName="THSarabunNew"/>
				</textElement>
				<textFieldExpression><![CDATA["Text Field"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="110" y="40" width="69" height="30" uuid="fe4631ef-37fd-4c2b-9cbd-4bafd1ed2893"/>
				<textElement>
					<font fontName="THSarabunNew"/>
				</textElement>
				<textFieldExpression><![CDATA["Text Field"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="179" y="40" width="98" height="30" uuid="95b7d57b-98e4-4f74-a780-48ff01822f4c"/>
				<textElement>
					<font fontName="THSarabunNew"/>
				</textElement>
				<textFieldExpression><![CDATA["Text Field"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="277" y="40" width="98" height="30" uuid="03a37005-787a-4a1d-b69e-95e4907ce9e2"/>
				<textElement>
					<font fontName="THSarabunNew"/>
				</textElement>
				<textFieldExpression><![CDATA["Text Field"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="375" y="40" width="99" height="30" uuid="e1b0b18d-f3e5-4266-9be5-59b52a9e2911"/>
				<textElement>
					<font fontName="THSarabunNew"/>
				</textElement>
				<textFieldExpression><![CDATA["Text Field"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="474" y="40" width="99" height="30" uuid="df89cba0-7b59-4adc-a4f9-c5b093fd7286"/>
				<textElement>
					<font fontName="THSarabunNew"/>
				</textElement>
				<textFieldExpression><![CDATA["Text Field"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="573" y="40" width="90" height="30" uuid="4e1fcf80-9ecd-4bf5-bd87-acc2c3dba065"/>
				<textElement>
					<font fontName="THSarabunNew"/>
				</textElement>
				<textFieldExpression><![CDATA["Text Field"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="663" y="40" width="54" height="30" uuid="33688e94-c072-48bf-8a71-47ff71c83489"/>
				<textElement>
					<font fontName="THSarabunNew"/>
				</textElement>
				<textFieldExpression><![CDATA["Text Field"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="717" y="40" width="90" height="30" uuid="41f03cfd-6f99-4f68-b91a-8ecc18498500"/>
				<textElement>
					<font fontName="THSarabunNew"/>
				</textElement>
				<textFieldExpression><![CDATA["Text Field"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="-10" y="40" width="51" height="30" uuid="bfa17222-7904-46cb-9f9f-a665c40d7c24"/>
				<textElement>
					<font fontName="THSarabunNew"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ROW_NUM}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="-10" y="10" width="51" height="30" uuid="a1aa2cda-0010-4c38-8d78-3250d2b6f182"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="THSarabunNew"/>
				</textElement>
				<text><![CDATA[ลำดับ]]></text>
			</staticText>
			<staticText>
				<reportElement x="41" y="10" width="69" height="30" uuid="90a62b19-7d4a-4947-9f37-947aa26ee4d5"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="THSarabunNew"/>
				</textElement>
				<text><![CDATA[เลขคดีดำ]]></text>
			</staticText>
			<staticText>
				<reportElement x="110" y="10" width="69" height="30" uuid="f6d71e94-b90e-44d2-8971-89e5a6bb8b81"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="THSarabunNew"/>
				</textElement>
				<text><![CDATA[เลขคดีแดง]]></text>
			</staticText>
			<staticText>
				<reportElement x="179" y="10" width="98" height="30" uuid="aaa7e99a-cd62-4c30-9ecb-3978bbfd6825"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="THSarabunNew"/>
				</textElement>
				<text><![CDATA[โจทก์]]></text>
			</staticText>
			<staticText>
				<reportElement x="277" y="10" width="98" height="30" uuid="b8f94df2-8c2c-414f-b397-6671f7241538"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="THSarabunNew"/>
				</textElement>
				<text><![CDATA[จำเลย]]></text>
			</staticText>
			<staticText>
				<reportElement x="375" y="10" width="99" height="30" uuid="241b4f03-f7bc-47ab-83cd-b4e2072594f4"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="THSarabunNew"/>
				</textElement>
				<text><![CDATA[เรื่อง]]></text>
			</staticText>
			<staticText>
				<reportElement x="474" y="10" width="99" height="30" uuid="fac32506-f030-4390-9ae7-21d5d0fec811"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="THSarabunNew"/>
				</textElement>
				<text><![CDATA[สาเหตุที่นัด]]></text>
			</staticText>
			<staticText>
				<reportElement x="573" y="10" width="90" height="30" uuid="87076eb6-21ec-48ac-93f8-a09202968e37"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="THSarabunNew"/>
				</textElement>
				<text><![CDATA[วันที่นัด]]></text>
			</staticText>
			<staticText>
				<reportElement x="663" y="10" width="54" height="30" uuid="bd0ca45d-8c65-42aa-932c-035962f76e1f"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="THSarabunNew"/>
				</textElement>
				<text><![CDATA[เวลา]]></text>
			</staticText>
			<staticText>
				<reportElement x="717" y="10" width="90" height="30" uuid="9ccf6295-3e40-4dd4-90dc-37253b904ac6"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="THSarabunNew"/>
				</textElement>
				<text><![CDATA[หมายเหตุ]]></text>
			</staticText>
		</band>
	</detail>
</jasperReport>
